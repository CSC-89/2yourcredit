[debug] [2023-04-08T06:41:04.094Z] ----------------------------------------------------------------------
[debug] [2023-04-08T06:41:04.097Z] Command:       /usr/local/bin/node /usr/local/bin/firebase serve --only functions
[debug] [2023-04-08T06:41:04.097Z] CLI Version:   11.15.0
[debug] [2023-04-08T06:41:04.098Z] Platform:      darwin
[debug] [2023-04-08T06:41:04.098Z] Node Version:  v18.8.0
[debug] [2023-04-08T06:41:04.100Z] Time:          Sat Apr 08 2023 08:41:04 GMT+0200 (Central European Summer Time)
[debug] [2023-04-08T06:41:04.100Z] ----------------------------------------------------------------------
[debug] 
[debug] [2023-04-08T06:41:04.269Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2023-04-08T06:41:04.270Z] > authorizing via signed-in user (cris.stephens@googlemail.com)
[debug] [2023-04-08T06:41:04.270Z] [iam] checking project finance-affiliate-app for permissions ["firebase.projects.get"]
[debug] [2023-04-08T06:41:04.272Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/finance-affiliate-app:testIamPermissions [none]
[debug] [2023-04-08T06:41:04.273Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/finance-affiliate-app:testIamPermissions x-goog-quota-user=projects/finance-affiliate-app
[debug] [2023-04-08T06:41:04.273Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/finance-affiliate-app:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2023-04-08T06:41:05.070Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/finance-affiliate-app:testIamPermissions 200
[debug] [2023-04-08T06:41:05.070Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/finance-affiliate-app:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2023-04-08T06:41:05.071Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/finance-affiliate-app [none]
[debug] [2023-04-08T06:41:05.338Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/finance-affiliate-app 200
[debug] [2023-04-08T06:41:05.339Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/finance-affiliate-app {"projectId":"finance-affiliate-app","projectNumber":"541799130114","displayName":"finance-affiliate-app","name":"projects/finance-affiliate-app","resources":{"hostingSite":"finance-affiliate-app","realtimeDatabaseInstance":"finance-affiliate-app-default-rtdb","storageBucket":"finance-affiliate-app.appspot.com","locationId":"europe-west"},"state":"ACTIVE","etag":"1_c5091fea-50dc-4bf8-903d-b499907a4a27"}
[warn] ⚠  Your requested "node" version "12" doesn't match your global version "18". Using node@18 from host. {"metadata":{"emulator":{"name":"functions"},"message":"Your requested \"node\" version \"12\" doesn't match your global version \"18\". Using node@18 from host."}}
[debug] [2023-04-08T06:41:05.355Z] defaultcredentials: writing to file /Users/chris/.config/firebase/cris_stephens_googlemail.com_application_default_credentials.json
[debug] [2023-04-08T06:41:05.358Z] Setting GAC to /Users/chris/.config/firebase/cris_stephens_googlemail.com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to /Users/chris/.config/firebase/cris_stephens_googlemail.com_application_default_credentials.json"}}
[debug] [2023-04-08T06:41:05.359Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/finance-affiliate-app/adminSdkConfig [none]
[debug] [2023-04-08T06:41:05.627Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/finance-affiliate-app/adminSdkConfig 200
[debug] [2023-04-08T06:41:05.627Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/finance-affiliate-app/adminSdkConfig {"projectId":"finance-affiliate-app","databaseURL":"https://finance-affiliate-app-default-rtdb.europe-west1.firebasedatabase.app","storageBucket":"finance-affiliate-app.appspot.com","locationId":"europe-west"}
[info] i  functions: Watching "/Users/chris/Documents/WebDesign/React/2yourcredit/backend" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/Users/chris/Documents/WebDesign/React/2yourcredit/backend\" for Cloud Functions..."}}
[debug] [2023-04-08T06:41:05.678Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[debug] [2023-04-08T06:41:08.205Z] > [functions] package.json contents: {
  "name": "finance-affiliate-api",
  "version": "1.0.0",
  "description": "Finance Affiliate API",
  "author": "cris.stephens@gmail.com",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase serve --only functions",
    "emu": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "logs": "firebase functions:log",
    "deploy": "firebase deploy --only functions"
  },
  "engines": {
    "node": "12"
  },
  "dependencies": {
    "axios": "^0.27.2",
    "express": "^4.18.1",
    "firebase-admin": "^11.0.1",
    "firebase-functions": "^4.1.0",
    "https": "^1.0.0"
  },
  "devDependencies": {
    "eslint": "^8.23.1",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^2.4.0"
  },
  "private": true,
  "main": "index.js",
  "directories": {
    "func": "func",
    "lib": "lib"
  },
  "keywords": [],
  "license": "ISC"
}
[debug] [2023-04-08T06:41:08.206Z] Building nodejs source
[debug] [2023-04-08T06:41:08.206Z] Analyzing nodejs backend spec
[debug] [2023-04-08T06:41:08.209Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-04-08T06:41:08.889Z] Serving at port 9005

[debug] [2023-04-08T06:41:10.064Z] Got response from /__/functions.yaml {"endpoints":{"run_update":{"platform":"gcfv1","availableMemoryMb":2048,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"region":["europe-west1"],"httpsTrigger":{},"entryPoint":"run_update"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-04-08T06:41:10.073Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: run_update. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: run_update."}}
[info] ✔  functions[europe-west1-run_update]: http function initialized (http://localhost:5000/finance-affiliate-app/europe-west1/run_update). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5000/finance-affiliate-app/europe-west1/run_update)."}}
[debug] [2023-04-08T06:41:50.784Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2023-04-08T06:41:50.786Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2023-04-08T06:41:50.786Z] Accepted request GET /finance-affiliate-app/europe-west1/run_update/getAdService --> europe-west1-run_update
[debug] [2023-04-08T06:41:50.798Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-04-08T06:41:50.800Z] [functions] Got req.url=/finance-affiliate-app/europe-west1/run_update/getAdService, mapping to path=/getAdService {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/finance-affiliate-app/europe-west1/run_update/getAdService, mapping to path=/getAdService"}}
[debug] [2023-04-08T06:41:50.803Z] Failed to load local environment variablesFailed to load environment variables from .env. {"name":"FirebaseError","children":[{"name":"FirebaseError","children":[],"exit":1,"message":"Invalid dotenv file, error on lines: //Adservice","status":500}],"exit":2,"message":"Failed to load environment variables from .env.","status":500}
[debug] [2023-04-08T06:41:50.816Z] [worker-pool] addWorker(europe-west1-run_update) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(europe-west1-run_update)"}}
[debug] [2023-04-08T06:41:50.817Z] [worker-pool] Adding worker with key europe-west1-run_update, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key europe-west1-run_update, total=1"}}
[debug] [2023-04-08T06:41:53.895Z] [runtime-status] [3995] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"[runtime-status] [3995] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-04-08T06:41:53.898Z] [runtime-status] [3995] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.0","resolution":"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"[runtime-status] [3995] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.0\",\"resolution\":\"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-04-08T06:41:53.898Z] [runtime-status] [3995] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"[runtime-status] [3995] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-04-08T06:41:53.900Z] [runtime-status] [3995] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.0","resolution":"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"[runtime-status] [3995] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.0\",\"resolution\":\"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-04-08T06:41:54.410Z] [runtime-status] [3995] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"[runtime-status] [3995] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-04-08T06:41:54.411Z] [runtime-status] [3995] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.0","resolution":"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"[runtime-status] [3995] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.0\",\"resolution\":\"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-04-08T06:41:54.412Z] [runtime-status] [3995] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.0","resolution":"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"[runtime-status] [3995] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.0\",\"resolution\":\"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-04-08T06:41:54.414Z] [runtime-status] [3995] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"[runtime-status] [3995] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-04-08T06:41:54.434Z] [runtime-status] [3995] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.0","resolution":"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"[runtime-status] [3995] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.0\",\"resolution\":\"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-04-08T06:41:54.434Z] [runtime-status] [3995] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"[runtime-status] [3995] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-04-08T06:41:54.687Z] [runtime-status] [3995] Functions runtime initialized. {"cwd":"/Users/chris/Documents/WebDesign/React/2yourcredit/backend","node_version":"18.8.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"[runtime-status] [3995] Functions runtime initialized. {\"cwd\":\"/Users/chris/Documents/WebDesign/React/2yourcredit/backend\",\"node_version\":\"18.8.0\"}"}}
[debug] [2023-04-08T06:41:54.687Z] [runtime-status] [3995] Listening to port: /var/folders/7c/nz9ggkzx307bnvvqb89rdvg40000gn/T/fire_emu_bed334139515bea7.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"[runtime-status] [3995] Listening to port: /var/folders/7c/nz9ggkzx307bnvvqb89rdvg40000gn/T/fire_emu_bed334139515bea7.sock"}}
[debug] [2023-04-08T06:41:54.772Z] [worker-pool] submitRequest(triggerId=europe-west1-run_update) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=europe-west1-run_update)"}}
[debug] [2023-04-08T06:41:54.773Z] [worker-europe-west1-run_update-dc1d081d-9a34-4b29-bb54-f6edc64435fe]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-europe-west1-run_update-dc1d081d-9a34-4b29-bb54-f6edc64435fe]: BUSY"}}
[info] i  functions: Beginning execution of "run_update" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"Beginning execution of \"run_update\""}}
[info] >  Adservice "NO" Reached! {"user":"Adservice \"NO\" Reached!","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m Adservice \"NO\" Reached!"}}
[info] >  Successfully updated "NO" {"user":"Successfully updated \"NO\"","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m Successfully updated \"NO\""}}
[debug] [2023-04-08T06:41:55.566Z] [worker-europe-west1-run_update-dc1d081d-9a34-4b29-bb54-f6edc64435fe]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-europe-west1-run_update-dc1d081d-9a34-4b29-bb54-f6edc64435fe]: IDLE"}}
[debug] [2023-04-08T06:41:55.566Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[info] i  functions: Finished "run_update" in 790.583804ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"Finished \"run_update\" in 790.583804ms"}}
[info] >  null {"user":null,"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m null"}}
[info] >  null {"user":null,"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m null"}}
[info] >  null {"user":null,"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m null"}}
[info] >  null {"user":null,"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m null"}}
[info] >  null {"user":null,"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m null"}}
[info] >  null {"user":null,"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m null"}}
[info] >  null {"user":null,"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m null"}}
[info] >  null {"user":null,"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m null"}}
[info] >  null {"user":null,"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m null"}}
[info] >  null {"user":null,"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m null"}}
[info] >  null {"user":null,"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m null"}}
[info] >  null {"user":null,"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m null"}}
[debug] [2023-04-08T06:41:55.737Z] File /Users/chris/Documents/WebDesign/React/2yourcredit/backend/database/data/adService_NO.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/chris/Documents/WebDesign/React/2yourcredit/backend/database/data/adService_NO.js changed, reloading triggers"}}
[info] >  null {"user":null,"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m null"}}
[debug] [2023-04-08T06:41:56.080Z] File /Users/chris/Documents/WebDesign/React/2yourcredit/backend/database/data/adService_NO.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/chris/Documents/WebDesign/React/2yourcredit/backend/database/data/adService_NO.js changed, reloading triggers"}}
[info] >  Adservice "DK" Reached! {"user":"Adservice \"DK\" Reached!","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m Adservice \"DK\" Reached!"}}
[info] >  Error: Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client {"user":"Error: Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m Error: Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client"}}
[info] >      at new NodeError (node:internal/errors:393:5) {"user":"    at new NodeError (node:internal/errors:393:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at new NodeError (node:internal/errors:393:5)"}}
[info] >      at ServerResponse.setHeader (node:_http_outgoing:607:11) {"user":"    at ServerResponse.setHeader (node:_http_outgoing:607:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.setHeader (node:_http_outgoing:607:11)"}}
[info] >      at ServerResponse.header (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:794:10) {"user":"    at ServerResponse.header (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:794:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.header (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:794:10)"}}
[info] >      at ServerResponse.send (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:174:12) {"user":"    at ServerResponse.send (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:174:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.send (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:174:12)"}}
[info] >      at ServerResponse.json (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:278:15) {"user":"    at ServerResponse.json (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:278:15)","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.json (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:278:15)"}}
[info] >      at /Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:28:33 {"user":"    at /Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:28:33","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:28:33"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}}
[info] >      at async getData (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:18:22) {"user":"    at async getData (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:18:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async getData (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:18:22)"}}
[info] >      at async getAllData (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:60:9) { {"user":"    at async getAllData (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:60:9) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async getAllData (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:60:9) {"}}
[info] >    code: 'ERR_HTTP_HEADERS_SENT' {"user":"  code: 'ERR_HTTP_HEADERS_SENT'","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'ERR_HTTP_HEADERS_SENT'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  Successfully updated "DK" {"user":"Successfully updated \"DK\"","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m Successfully updated \"DK\""}}
[debug] [2023-04-08T06:41:57.082Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[debug] [2023-04-08T06:42:00.348Z] > [functions] package.json contents: {
  "name": "finance-affiliate-api",
  "version": "1.0.0",
  "description": "Finance Affiliate API",
  "author": "cris.stephens@gmail.com",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase serve --only functions",
    "emu": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "logs": "firebase functions:log",
    "deploy": "firebase deploy --only functions"
  },
  "engines": {
    "node": "12"
  },
  "dependencies": {
    "axios": "^0.27.2",
    "express": "^4.18.1",
    "firebase-admin": "^11.0.1",
    "firebase-functions": "^4.1.0",
    "https": "^1.0.0"
  },
  "devDependencies": {
    "eslint": "^8.23.1",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^2.4.0"
  },
  "private": true,
  "main": "index.js",
  "directories": {
    "func": "func",
    "lib": "lib"
  },
  "keywords": [],
  "license": "ISC"
}
[debug] [2023-04-08T06:42:00.349Z] Building nodejs source
[debug] [2023-04-08T06:42:00.349Z] Analyzing nodejs backend spec
[debug] [2023-04-08T06:42:00.351Z] Could not find functions.yaml. Must use http discovery
[info] >  Adservice "SE" Reached! {"user":"Adservice \"SE\" Reached!","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m Adservice \"SE\" Reached!"}}
[info] >  Error: Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client {"user":"Error: Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m Error: Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client"}}
[info] >      at new NodeError (node:internal/errors:393:5) {"user":"    at new NodeError (node:internal/errors:393:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at new NodeError (node:internal/errors:393:5)"}}
[info] >      at ServerResponse.setHeader (node:_http_outgoing:607:11) {"user":"    at ServerResponse.setHeader (node:_http_outgoing:607:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.setHeader (node:_http_outgoing:607:11)"}}
[info] >      at ServerResponse.header (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:794:10) {"user":"    at ServerResponse.header (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:794:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.header (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:794:10)"}}
[info] >      at ServerResponse.send (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:174:12) {"user":"    at ServerResponse.send (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:174:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.send (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:174:12)"}}
[info] >      at ServerResponse.json (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:278:15) {"user":"    at ServerResponse.json (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:278:15)","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.json (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:278:15)"}}
[info] >      at /Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:28:33 {"user":"    at /Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:28:33","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:28:33"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}}
[info] >      at async getData (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:18:22) {"user":"    at async getData (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:18:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async getData (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:18:22)"}}
[info] >      at async getAllData (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:61:9) { {"user":"    at async getAllData (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:61:9) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async getAllData (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:61:9) {"}}
[info] >    code: 'ERR_HTTP_HEADERS_SENT' {"user":"  code: 'ERR_HTTP_HEADERS_SENT'","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'ERR_HTTP_HEADERS_SENT'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  Successfully updated "SE" {"user":"Successfully updated \"SE\"","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m Successfully updated \"SE\""}}
[debug] [2023-04-08T06:42:00.709Z] Serving at port 9005

[debug] [2023-04-08T06:42:01.165Z] Got response from /__/functions.yaml {"endpoints":{"run_update":{"platform":"gcfv1","availableMemoryMb":2048,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"region":["europe-west1"],"httpsTrigger":{},"entryPoint":"run_update"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-04-08T06:42:01.171Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: run_update. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: run_update."}}
[debug] [2023-04-08T06:42:01.181Z] [worker-pool] Shutting down IDLE worker (europe-west1-run_update) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (europe-west1-run_update)"}}
[debug] [2023-04-08T06:42:01.181Z] [worker-europe-west1-run_update-dc1d081d-9a34-4b29-bb54-f6edc64435fe]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-europe-west1-run_update-dc1d081d-9a34-4b29-bb54-f6edc64435fe]: FINISHING"}}
[debug] [2023-04-08T06:42:01.194Z] [worker-europe-west1-run_update-dc1d081d-9a34-4b29-bb54-f6edc64435fe]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-europe-west1-run_update-dc1d081d-9a34-4b29-bb54-f6edc64435fe]: exited"}}
[debug] [2023-04-08T06:42:01.194Z] [worker-europe-west1-run_update-dc1d081d-9a34-4b29-bb54-f6edc64435fe]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-europe-west1-run_update-dc1d081d-9a34-4b29-bb54-f6edc64435fe]: FINISHED"}}
[debug] [2023-04-08T06:42:13.986Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2023-04-08T06:42:13.987Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2023-04-08T06:42:13.987Z] Accepted request GET /finance-affiliate-app/europe-west1/run_update/getAdService --> europe-west1-run_update
[debug] [2023-04-08T06:42:13.992Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-04-08T06:42:13.993Z] [functions] Got req.url=/finance-affiliate-app/europe-west1/run_update/getAdService, mapping to path=/getAdService {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/finance-affiliate-app/europe-west1/run_update/getAdService, mapping to path=/getAdService"}}
[debug] [2023-04-08T06:42:13.993Z] [worker-pool] Cleaned up workers for europe-west1-run_update: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for europe-west1-run_update: 1 --> 0"}}
[debug] [2023-04-08T06:42:13.995Z] Failed to load local environment variablesFailed to load environment variables from .env. {"name":"FirebaseError","children":[{"name":"FirebaseError","children":[],"exit":1,"message":"Invalid dotenv file, error on lines: //Adservice","status":500}],"exit":2,"message":"Failed to load environment variables from .env.","status":500}
[debug] [2023-04-08T06:42:14.001Z] [worker-pool] addWorker(europe-west1-run_update) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(europe-west1-run_update)"}}
[debug] [2023-04-08T06:42:14.001Z] [worker-pool] Adding worker with key europe-west1-run_update, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key europe-west1-run_update, total=1"}}
[debug] [2023-04-08T06:42:16.350Z] [runtime-status] [4056] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"[runtime-status] [4056] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-04-08T06:42:16.352Z] [runtime-status] [4056] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.0","resolution":"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"[runtime-status] [4056] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.0\",\"resolution\":\"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-04-08T06:42:16.353Z] [runtime-status] [4056] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"[runtime-status] [4056] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-04-08T06:42:16.354Z] [runtime-status] [4056] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.0","resolution":"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"[runtime-status] [4056] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.0\",\"resolution\":\"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-04-08T06:42:16.602Z] [runtime-status] [4056] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"[runtime-status] [4056] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-04-08T06:42:16.603Z] [runtime-status] [4056] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.0","resolution":"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"[runtime-status] [4056] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.0\",\"resolution\":\"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-04-08T06:42:16.603Z] [runtime-status] [4056] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.0","resolution":"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"[runtime-status] [4056] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.0\",\"resolution\":\"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-04-08T06:42:16.605Z] [runtime-status] [4056] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"[runtime-status] [4056] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-04-08T06:42:16.607Z] [runtime-status] [4056] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.0","resolution":"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"[runtime-status] [4056] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.0\",\"resolution\":\"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-04-08T06:42:16.608Z] [runtime-status] [4056] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"[runtime-status] [4056] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-04-08T06:42:16.744Z] [runtime-status] [4056] Functions runtime initialized. {"cwd":"/Users/chris/Documents/WebDesign/React/2yourcredit/backend","node_version":"18.8.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"[runtime-status] [4056] Functions runtime initialized. {\"cwd\":\"/Users/chris/Documents/WebDesign/React/2yourcredit/backend\",\"node_version\":\"18.8.0\"}"}}
[debug] [2023-04-08T06:42:16.744Z] [runtime-status] [4056] Listening to port: /var/folders/7c/nz9ggkzx307bnvvqb89rdvg40000gn/T/fire_emu_e61e045da7531811.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"[runtime-status] [4056] Listening to port: /var/folders/7c/nz9ggkzx307bnvvqb89rdvg40000gn/T/fire_emu_e61e045da7531811.sock"}}
[debug] [2023-04-08T06:42:16.854Z] [worker-pool] submitRequest(triggerId=europe-west1-run_update) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=europe-west1-run_update)"}}
[debug] [2023-04-08T06:42:16.854Z] [worker-europe-west1-run_update-13a91314-7c08-4d8e-a4a2-841fbde5c20a]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-europe-west1-run_update-13a91314-7c08-4d8e-a4a2-841fbde5c20a]: BUSY"}}
[info] i  functions: Beginning execution of "run_update" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"Beginning execution of \"run_update\""}}
[info] >  Adservice "NO" Reached! {"user":"Adservice \"NO\" Reached!","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m Adservice \"NO\" Reached!"}}
[info] >  Successfully updated "NO" {"user":"Successfully updated \"NO\"","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m Successfully updated \"NO\""}}
[debug] [2023-04-08T06:42:17.034Z] [worker-europe-west1-run_update-13a91314-7c08-4d8e-a4a2-841fbde5c20a]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-europe-west1-run_update-13a91314-7c08-4d8e-a4a2-841fbde5c20a]: IDLE"}}
[debug] [2023-04-08T06:42:17.035Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[info] i  functions: Finished "run_update" in 177.81999ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"Finished \"run_update\" in 177.81999ms"}}
[info] >  null {"user":null,"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m null"}}
[info] >  null {"user":null,"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m null"}}
[info] >  null {"user":null,"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m null"}}
[info] >  null {"user":null,"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m null"}}
[info] >  null {"user":null,"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m null"}}
[info] >  null {"user":null,"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m null"}}
[info] >  null {"user":null,"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m null"}}
[info] >  null {"user":null,"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m null"}}
[info] >  null {"user":null,"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m null"}}
[info] >  null {"user":null,"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m null"}}
[info] >  null {"user":null,"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m null"}}
[info] >  null {"user":null,"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m null"}}
[info] >  Adservice "DK" Reached! {"user":"Adservice \"DK\" Reached!","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m Adservice \"DK\" Reached!"}}
[info] >  Error: Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client {"user":"Error: Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m Error: Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client"}}
[info] >      at new NodeError (node:internal/errors:393:5) {"user":"    at new NodeError (node:internal/errors:393:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at new NodeError (node:internal/errors:393:5)"}}
[info] >      at ServerResponse.setHeader (node:_http_outgoing:607:11) {"user":"    at ServerResponse.setHeader (node:_http_outgoing:607:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.setHeader (node:_http_outgoing:607:11)"}}
[info] >      at ServerResponse.header (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:794:10) {"user":"    at ServerResponse.header (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:794:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.header (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:794:10)"}}
[info] >      at ServerResponse.send (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:174:12) {"user":"    at ServerResponse.send (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:174:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.send (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:174:12)"}}
[info] >      at ServerResponse.json (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:278:15) {"user":"    at ServerResponse.json (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:278:15)","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.json (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:278:15)"}}
[info] >      at /Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:28:33 {"user":"    at /Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:28:33","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:28:33"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}}
[info] >      at async getData (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:18:22) {"user":"    at async getData (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:18:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async getData (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:18:22)"}}
[info] >      at async getAllData (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:60:9) { {"user":"    at async getAllData (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:60:9) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async getAllData (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:60:9) {"}}
[info] >    code: 'ERR_HTTP_HEADERS_SENT' {"user":"  code: 'ERR_HTTP_HEADERS_SENT'","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'ERR_HTTP_HEADERS_SENT'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  Successfully updated "DK" {"user":"Successfully updated \"DK\"","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m Successfully updated \"DK\""}}
[info] >  Adservice "SE" Reached! {"user":"Adservice \"SE\" Reached!","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m Adservice \"SE\" Reached!"}}
[info] >  Error: Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client {"user":"Error: Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m Error: Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client"}}
[info] >      at new NodeError (node:internal/errors:393:5) {"user":"    at new NodeError (node:internal/errors:393:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at new NodeError (node:internal/errors:393:5)"}}
[info] >      at ServerResponse.setHeader (node:_http_outgoing:607:11) {"user":"    at ServerResponse.setHeader (node:_http_outgoing:607:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.setHeader (node:_http_outgoing:607:11)"}}
[info] >      at ServerResponse.header (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:794:10) {"user":"    at ServerResponse.header (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:794:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.header (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:794:10)"}}
[info] >      at ServerResponse.send (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:174:12) {"user":"    at ServerResponse.send (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:174:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.send (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:174:12)"}}
[info] >      at ServerResponse.json (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:278:15) {"user":"    at ServerResponse.json (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:278:15)","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.json (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:278:15)"}}
[info] >      at /Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:28:33 {"user":"    at /Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:28:33","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:28:33"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}}
[info] >      at async getData (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:18:22) {"user":"    at async getData (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:18:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async getData (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:18:22)"}}
[info] >      at async getAllData (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:61:9) { {"user":"    at async getAllData (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:61:9) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async getAllData (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:61:9) {"}}
[info] >    code: 'ERR_HTTP_HEADERS_SENT' {"user":"  code: 'ERR_HTTP_HEADERS_SENT'","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'ERR_HTTP_HEADERS_SENT'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  Successfully updated "SE" {"user":"Successfully updated \"SE\"","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m Successfully updated \"SE\""}}
[info] >  null {"user":null,"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m null"}}
[debug] [2023-04-08T06:42:17.642Z] File /Users/chris/Documents/WebDesign/React/2yourcredit/backend/database/data/adService_NO.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/chris/Documents/WebDesign/React/2yourcredit/backend/database/data/adService_NO.js changed, reloading triggers"}}
[debug] [2023-04-08T06:42:18.647Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[debug] [2023-04-08T06:42:21.171Z] > [functions] package.json contents: {
  "name": "finance-affiliate-api",
  "version": "1.0.0",
  "description": "Finance Affiliate API",
  "author": "cris.stephens@gmail.com",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase serve --only functions",
    "emu": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "logs": "firebase functions:log",
    "deploy": "firebase deploy --only functions"
  },
  "engines": {
    "node": "12"
  },
  "dependencies": {
    "axios": "^0.27.2",
    "express": "^4.18.1",
    "firebase-admin": "^11.0.1",
    "firebase-functions": "^4.1.0",
    "https": "^1.0.0"
  },
  "devDependencies": {
    "eslint": "^8.23.1",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^2.4.0"
  },
  "private": true,
  "main": "index.js",
  "directories": {
    "func": "func",
    "lib": "lib"
  },
  "keywords": [],
  "license": "ISC"
}
[debug] [2023-04-08T06:42:21.171Z] Building nodejs source
[debug] [2023-04-08T06:42:21.171Z] Analyzing nodejs backend spec
[debug] [2023-04-08T06:42:21.172Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-04-08T06:42:21.459Z] Serving at port 9005

[debug] [2023-04-08T06:42:21.818Z] Got response from /__/functions.yaml {"endpoints":{"run_update":{"platform":"gcfv1","availableMemoryMb":2048,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"region":["europe-west1"],"httpsTrigger":{},"entryPoint":"run_update"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-04-08T06:42:21.824Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: run_update. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: run_update."}}
[debug] [2023-04-08T06:42:21.836Z] [worker-pool] Shutting down IDLE worker (europe-west1-run_update) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (europe-west1-run_update)"}}
[debug] [2023-04-08T06:42:21.836Z] [worker-europe-west1-run_update-13a91314-7c08-4d8e-a4a2-841fbde5c20a]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-europe-west1-run_update-13a91314-7c08-4d8e-a4a2-841fbde5c20a]: FINISHING"}}
[debug] [2023-04-08T06:42:21.850Z] [worker-europe-west1-run_update-13a91314-7c08-4d8e-a4a2-841fbde5c20a]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-europe-west1-run_update-13a91314-7c08-4d8e-a4a2-841fbde5c20a]: exited"}}
[debug] [2023-04-08T06:42:21.850Z] [worker-europe-west1-run_update-13a91314-7c08-4d8e-a4a2-841fbde5c20a]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-europe-west1-run_update-13a91314-7c08-4d8e-a4a2-841fbde5c20a]: FINISHED"}}
[debug] [2023-04-08T06:43:17.397Z] File /Users/chris/Documents/WebDesign/React/2yourcredit/backend/package-lock.json changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/chris/Documents/WebDesign/React/2yourcredit/backend/package-lock.json changed, reloading triggers"}}
[debug] [2023-04-08T06:43:18.398Z] Validating nodejs source
[debug] [2023-04-08T06:43:21.272Z] > [functions] package.json contents: {
  "name": "finance-affiliate-api",
  "version": "1.0.0",
  "description": "Finance Affiliate API",
  "author": "cris.stephens@gmail.com",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase serve --only functions",
    "emu": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "logs": "firebase functions:log",
    "deploy": "firebase deploy --only functions"
  },
  "engines": {
    "node": "12"
  },
  "dependencies": {
    "axios": "^0.27.2",
    "express": "^4.18.1",
    "firebase-admin": "^11.0.1",
    "firebase-functions": "^4.1.0",
    "https": "^1.0.0"
  },
  "devDependencies": {
    "eslint": "^8.23.1",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^2.4.0"
  },
  "private": true,
  "main": "index.js",
  "directories": {
    "func": "func",
    "lib": "lib"
  },
  "keywords": [],
  "license": "ISC"
}
[debug] [2023-04-08T06:43:21.273Z] Building nodejs source
[debug] [2023-04-08T06:43:21.273Z] Analyzing nodejs backend spec
[debug] [2023-04-08T06:43:21.274Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-04-08T06:43:22.139Z] Serving at port 9005

[debug] [2023-04-08T06:43:22.645Z] Got response from /__/functions.yaml {"endpoints":{"run_update":{"platform":"gcfv1","availableMemoryMb":2048,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"region":["europe-west1"],"httpsTrigger":{},"entryPoint":"run_update"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-04-08T06:43:22.651Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: run_update. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: run_update."}}
[debug] [2023-04-08T06:43:41.166Z] File /Users/chris/Documents/WebDesign/React/2yourcredit/backend/database/data/adService_NO.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/chris/Documents/WebDesign/React/2yourcredit/backend/database/data/adService_NO.js changed, reloading triggers"}}
[debug] [2023-04-08T06:43:42.169Z] Validating nodejs source
[debug] [2023-04-08T06:43:44.680Z] > [functions] package.json contents: {
  "name": "finance-affiliate-api",
  "version": "1.0.0",
  "description": "Finance Affiliate API",
  "author": "cris.stephens@gmail.com",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase serve --only functions",
    "emu": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "logs": "firebase functions:log",
    "deploy": "firebase deploy --only functions"
  },
  "engines": {
    "node": "12"
  },
  "dependencies": {
    "axios": "^0.27.2",
    "express": "^4.18.1",
    "firebase-admin": "^11.0.1",
    "firebase-functions": "^4.1.0",
    "https": "^1.0.0"
  },
  "devDependencies": {
    "eslint": "^8.23.1",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^2.4.0"
  },
  "private": true,
  "main": "index.js",
  "directories": {
    "func": "func",
    "lib": "lib"
  },
  "keywords": [],
  "license": "ISC"
}
[debug] [2023-04-08T06:43:44.681Z] Building nodejs source
[debug] [2023-04-08T06:43:44.681Z] Analyzing nodejs backend spec
[debug] [2023-04-08T06:43:44.682Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-04-08T06:43:44.692Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2023-04-08T06:43:44.692Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2023-04-08T06:43:44.692Z] Accepted request GET /finance-affiliate-app/europe-west1/run_update/getAdService --> europe-west1-run_update
[debug] [2023-04-08T06:43:44.702Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-04-08T06:43:44.702Z] [functions] Got req.url=/finance-affiliate-app/europe-west1/run_update/getAdService, mapping to path=/getAdService {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/finance-affiliate-app/europe-west1/run_update/getAdService, mapping to path=/getAdService"}}
[debug] [2023-04-08T06:43:44.702Z] [worker-pool] Cleaned up workers for europe-west1-run_update: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for europe-west1-run_update: 1 --> 0"}}
[debug] [2023-04-08T06:43:44.704Z] Failed to load local environment variablesFailed to load environment variables from .env. {"name":"FirebaseError","children":[{"name":"FirebaseError","children":[],"exit":1,"message":"Invalid dotenv file, error on lines: //Adservice","status":500}],"exit":2,"message":"Failed to load environment variables from .env.","status":500}
[debug] [2023-04-08T06:43:44.712Z] [worker-pool] addWorker(europe-west1-run_update) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(europe-west1-run_update)"}}
[debug] [2023-04-08T06:43:44.712Z] [worker-pool] Adding worker with key europe-west1-run_update, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key europe-west1-run_update, total=1"}}
[debug] [2023-04-08T06:43:45.052Z] Serving at port 9005

[debug] [2023-04-08T06:43:45.455Z] Got response from /__/functions.yaml {"endpoints":{"run_update":{"platform":"gcfv1","availableMemoryMb":2048,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"region":["europe-west1"],"httpsTrigger":{},"entryPoint":"run_update"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-04-08T06:43:45.460Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: run_update. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: run_update."}}
[debug] [2023-04-08T06:43:45.470Z] [worker-pool] Shutting down IDLE worker (europe-west1-run_update) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (europe-west1-run_update)"}}
[debug] [2023-04-08T06:43:45.470Z] [worker-europe-west1-run_update-56f493cb-d405-4835-9266-895f0706cc93]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-europe-west1-run_update-56f493cb-d405-4835-9266-895f0706cc93]: FINISHING"}}
[debug] [2023-04-08T06:43:45.479Z] [worker-europe-west1-run_update-56f493cb-d405-4835-9266-895f0706cc93]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-europe-west1-run_update-56f493cb-d405-4835-9266-895f0706cc93]: exited"}}
[debug] [2023-04-08T06:43:45.479Z] [worker-europe-west1-run_update-56f493cb-d405-4835-9266-895f0706cc93]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-europe-west1-run_update-56f493cb-d405-4835-9266-895f0706cc93]: FINISHED"}}
[debug] FirebaseError: Failed to load function.
    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsRuntimeWorker.js:152:24)
    at listOnTimeout (node:internal/timers:564:17)
    at process.processTimers (node:internal/timers:507:7) {"metadata":{"emulator":{"name":"functions"},"message":{"name":"FirebaseError","children":[],"exit":1,"message":"Failed to load function.","status":500}}}
[debug] [2023-04-08T06:44:14.789Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2023-04-08T06:44:38.890Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2023-04-08T06:44:38.890Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2023-04-08T06:44:38.891Z] Accepted request GET /finance-affiliate-app/europe-west1/run_update/getAdService --> europe-west1-run_update
[debug] [2023-04-08T06:44:38.897Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-04-08T06:44:38.897Z] [functions] Got req.url=/finance-affiliate-app/europe-west1/run_update/getAdService, mapping to path=/getAdService {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/finance-affiliate-app/europe-west1/run_update/getAdService, mapping to path=/getAdService"}}
[debug] [2023-04-08T06:44:38.897Z] [worker-pool] Cleaned up workers for europe-west1-run_update: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for europe-west1-run_update: 1 --> 0"}}
[debug] [2023-04-08T06:44:38.899Z] Failed to load local environment variablesFailed to load environment variables from .env. {"name":"FirebaseError","children":[{"name":"FirebaseError","children":[],"exit":1,"message":"Invalid dotenv file, error on lines: //Adservice","status":500}],"exit":2,"message":"Failed to load environment variables from .env.","status":500}
[debug] [2023-04-08T06:44:38.905Z] [worker-pool] addWorker(europe-west1-run_update) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(europe-west1-run_update)"}}
[debug] [2023-04-08T06:44:38.905Z] [worker-pool] Adding worker with key europe-west1-run_update, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key europe-west1-run_update, total=1"}}
[debug] [2023-04-08T06:44:41.813Z] [runtime-status] [4525] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.6.0","resolution":"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"[runtime-status] [4525] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.6.0\",\"resolution\":\"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-04-08T06:44:41.815Z] [runtime-status] [4525] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"[runtime-status] [4525] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-04-08T06:44:41.816Z] [runtime-status] [4525] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"[runtime-status] [4525] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-04-08T06:44:41.817Z] [runtime-status] [4525] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"[runtime-status] [4525] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-04-08T06:44:42.272Z] [runtime-status] [4525] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"[runtime-status] [4525] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-04-08T06:44:42.272Z] [runtime-status] [4525] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"[runtime-status] [4525] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-04-08T06:44:42.273Z] [runtime-status] [4525] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"[runtime-status] [4525] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-04-08T06:44:42.274Z] [runtime-status] [4525] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.6.0","resolution":"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"[runtime-status] [4525] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.6.0\",\"resolution\":\"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-04-08T06:44:42.277Z] [runtime-status] [4525] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"[runtime-status] [4525] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-04-08T06:44:42.277Z] [runtime-status] [4525] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.6.0","resolution":"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"[runtime-status] [4525] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.6.0\",\"resolution\":\"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-04-08T06:44:42.502Z] [runtime-status] [4525] Functions runtime initialized. {"cwd":"/Users/chris/Documents/WebDesign/React/2yourcredit/backend","node_version":"18.8.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"[runtime-status] [4525] Functions runtime initialized. {\"cwd\":\"/Users/chris/Documents/WebDesign/React/2yourcredit/backend\",\"node_version\":\"18.8.0\"}"}}
[debug] [2023-04-08T06:44:42.502Z] [runtime-status] [4525] Listening to port: /var/folders/7c/nz9ggkzx307bnvvqb89rdvg40000gn/T/fire_emu_37987e78f8d6b43a.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"[runtime-status] [4525] Listening to port: /var/folders/7c/nz9ggkzx307bnvvqb89rdvg40000gn/T/fire_emu_37987e78f8d6b43a.sock"}}
[debug] [2023-04-08T06:44:42.566Z] [worker-pool] submitRequest(triggerId=europe-west1-run_update) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=europe-west1-run_update)"}}
[debug] [2023-04-08T06:44:42.566Z] [worker-europe-west1-run_update-067f370a-a291-4015-88a2-7f990d417cf7]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-europe-west1-run_update-067f370a-a291-4015-88a2-7f990d417cf7]: BUSY"}}
[info] i  functions: Beginning execution of "run_update" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"Beginning execution of \"run_update\""}}
[info] >  Adservice "NO" Reached! {"user":"Adservice \"NO\" Reached!","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m Adservice \"NO\" Reached!"}}
[info] >  Successfully updated "NO" {"user":"Successfully updated \"NO\"","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m Successfully updated \"NO\""}}
[debug] [2023-04-08T06:44:42.715Z] [worker-europe-west1-run_update-067f370a-a291-4015-88a2-7f990d417cf7]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-europe-west1-run_update-067f370a-a291-4015-88a2-7f990d417cf7]: IDLE"}}
[debug] [2023-04-08T06:44:42.716Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[info] i  functions: Finished "run_update" in 144.887715ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"Finished \"run_update\" in 144.887715ms"}}
[info] >  null {"user":null,"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m null"}}
[info] >  null {"user":null,"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m null"}}
[info] >  null {"user":null,"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m null"}}
[info] >  null {"user":null,"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m null"}}
[info] >  null {"user":null,"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m null"}}
[info] >  null {"user":null,"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m null"}}
[info] >  null {"user":null,"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m null"}}
[info] >  null {"user":null,"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m null"}}
[info] >  null {"user":null,"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m null"}}
[info] >  null {"user":null,"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m null"}}
[info] >  null {"user":null,"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m null"}}
[info] >  null {"user":null,"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m null"}}
[info] >  Adservice "DK" Reached! {"user":"Adservice \"DK\" Reached!","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m Adservice \"DK\" Reached!"}}
[info] >  Error: Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client {"user":"Error: Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m Error: Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client"}}
[info] >      at new NodeError (node:internal/errors:393:5) {"user":"    at new NodeError (node:internal/errors:393:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at new NodeError (node:internal/errors:393:5)"}}
[info] >      at ServerResponse.setHeader (node:_http_outgoing:607:11) {"user":"    at ServerResponse.setHeader (node:_http_outgoing:607:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.setHeader (node:_http_outgoing:607:11)"}}
[info] >      at ServerResponse.header (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:794:10) {"user":"    at ServerResponse.header (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:794:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.header (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:794:10)"}}
[info] >      at ServerResponse.send (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:174:12) {"user":"    at ServerResponse.send (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:174:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.send (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:174:12)"}}
[info] >      at ServerResponse.json (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:278:15) {"user":"    at ServerResponse.json (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:278:15)","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.json (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:278:15)"}}
[info] >      at /Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:28:33 {"user":"    at /Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:28:33","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:28:33"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}}
[info] >      at async getData (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:18:22) {"user":"    at async getData (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:18:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async getData (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:18:22)"}}
[info] >      at async getAllData (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:60:9) { {"user":"    at async getAllData (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:60:9) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async getAllData (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:60:9) {"}}
[info] >    code: 'ERR_HTTP_HEADERS_SENT' {"user":"  code: 'ERR_HTTP_HEADERS_SENT'","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'ERR_HTTP_HEADERS_SENT'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  Successfully updated "DK" {"user":"Successfully updated \"DK\"","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m Successfully updated \"DK\""}}
[info] >  null {"user":null,"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m null"}}
[info] >  Adservice "SE" Reached! {"user":"Adservice \"SE\" Reached!","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m Adservice \"SE\" Reached!"}}
[info] >  Error: Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client {"user":"Error: Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m Error: Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client"}}
[info] >      at new NodeError (node:internal/errors:393:5) {"user":"    at new NodeError (node:internal/errors:393:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at new NodeError (node:internal/errors:393:5)"}}
[info] >      at ServerResponse.setHeader (node:_http_outgoing:607:11) {"user":"    at ServerResponse.setHeader (node:_http_outgoing:607:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.setHeader (node:_http_outgoing:607:11)"}}
[info] >      at ServerResponse.header (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:794:10) {"user":"    at ServerResponse.header (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:794:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.header (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:794:10)"}}
[info] >      at ServerResponse.send (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:174:12) {"user":"    at ServerResponse.send (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:174:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.send (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:174:12)"}}
[info] >      at ServerResponse.json (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:278:15) {"user":"    at ServerResponse.json (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:278:15)","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.json (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:278:15)"}}
[info] >      at /Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:28:33 {"user":"    at /Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:28:33","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:28:33"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}}
[info] >      at async getData (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:18:22) {"user":"    at async getData (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:18:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async getData (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:18:22)"}}
[info] >      at async getAllData (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:61:9) { {"user":"    at async getAllData (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:61:9) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async getAllData (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:61:9) {"}}
[info] >    code: 'ERR_HTTP_HEADERS_SENT' {"user":"  code: 'ERR_HTTP_HEADERS_SENT'","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'ERR_HTTP_HEADERS_SENT'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  Successfully updated "SE" {"user":"Successfully updated \"SE\"","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m Successfully updated \"SE\""}}
[debug] [2023-04-08T06:44:43.397Z] File /Users/chris/Documents/WebDesign/React/2yourcredit/backend/database/data/adService_NO.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/chris/Documents/WebDesign/React/2yourcredit/backend/database/data/adService_NO.js changed, reloading triggers"}}
[debug] [2023-04-08T06:44:44.399Z] Validating nodejs source
[debug] [2023-04-08T06:44:47.543Z] > [functions] package.json contents: {
  "name": "finance-affiliate-api",
  "version": "1.0.0",
  "description": "Finance Affiliate API",
  "author": "cris.stephens@gmail.com",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase serve --only functions",
    "emu": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "logs": "firebase functions:log",
    "deploy": "firebase deploy --only functions"
  },
  "engines": {
    "node": "12"
  },
  "dependencies": {
    "axios": "^0.27.2",
    "express": "^4.18.1",
    "firebase-admin": "^11.0.1",
    "firebase-functions": "^4.1.0",
    "https": "^1.0.0"
  },
  "devDependencies": {
    "eslint": "^8.23.1",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^2.4.0"
  },
  "private": true,
  "main": "index.js",
  "directories": {
    "func": "func",
    "lib": "lib"
  },
  "keywords": [],
  "license": "ISC"
}
[debug] [2023-04-08T06:44:47.543Z] Building nodejs source
[debug] [2023-04-08T06:44:47.543Z] Analyzing nodejs backend spec
[debug] [2023-04-08T06:44:47.544Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-04-08T06:44:47.927Z] Serving at port 9005

[debug] [2023-04-08T06:44:48.249Z] Got response from /__/functions.yaml {"endpoints":{"run_update":{"platform":"gcfv1","availableMemoryMb":2048,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"region":["europe-west1"],"httpsTrigger":{},"entryPoint":"run_update"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-04-08T06:44:48.253Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: run_update. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: run_update."}}
[debug] [2023-04-08T06:44:48.262Z] [worker-pool] Shutting down IDLE worker (europe-west1-run_update) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (europe-west1-run_update)"}}
[debug] [2023-04-08T06:44:48.262Z] [worker-europe-west1-run_update-067f370a-a291-4015-88a2-7f990d417cf7]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-europe-west1-run_update-067f370a-a291-4015-88a2-7f990d417cf7]: FINISHING"}}
[debug] [2023-04-08T06:44:48.273Z] [worker-europe-west1-run_update-067f370a-a291-4015-88a2-7f990d417cf7]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-europe-west1-run_update-067f370a-a291-4015-88a2-7f990d417cf7]: exited"}}
[debug] [2023-04-08T06:44:48.274Z] [worker-europe-west1-run_update-067f370a-a291-4015-88a2-7f990d417cf7]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-europe-west1-run_update-067f370a-a291-4015-88a2-7f990d417cf7]: FINISHED"}}
[debug] [2023-04-08T06:45:41.668Z] File /Users/chris/Documents/WebDesign/React/2yourcredit/backend/package-lock.json changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/chris/Documents/WebDesign/React/2yourcredit/backend/package-lock.json changed, reloading triggers"}}
[debug] [2023-04-08T06:45:42.669Z] Validating nodejs source
[debug] [2023-04-08T06:45:44.724Z] > [functions] package.json contents: {
  "name": "finance-affiliate-api",
  "version": "1.0.0",
  "description": "Finance Affiliate API",
  "author": "cris.stephens@gmail.com",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase serve --only functions",
    "emu": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "logs": "firebase functions:log",
    "deploy": "firebase deploy --only functions"
  },
  "engines": {
    "node": "12"
  },
  "dependencies": {
    "axios": "^0.27.2",
    "express": "^4.18.1",
    "firebase-admin": "^11.0.1",
    "firebase-functions": "^4.1.0",
    "https": "^1.0.0"
  },
  "devDependencies": {
    "eslint": "^8.23.1",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^2.4.0"
  },
  "private": true,
  "main": "index.js",
  "directories": {
    "func": "func",
    "lib": "lib"
  },
  "keywords": [],
  "license": "ISC"
}
[debug] [2023-04-08T06:45:44.725Z] Building nodejs source
[debug] [2023-04-08T06:45:44.725Z] Analyzing nodejs backend spec
[debug] [2023-04-08T06:45:44.725Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-04-08T06:45:45.009Z] Serving at port 9005

[debug] [2023-04-08T06:45:45.325Z] Got response from /__/functions.yaml {"endpoints":{"run_update":{"platform":"gcfv1","availableMemoryMb":2048,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"region":["europe-west1"],"httpsTrigger":{},"entryPoint":"run_update"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-04-08T06:45:45.330Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: run_update. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: run_update."}}
[debug] [2023-04-08T06:46:17.902Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2023-04-08T06:46:17.902Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2023-04-08T06:46:17.902Z] Accepted request GET /finance-affiliate-app/europe-west1/run_update/getAdService --> europe-west1-run_update
[debug] [2023-04-08T06:46:17.908Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-04-08T06:46:17.909Z] [functions] Got req.url=/finance-affiliate-app/europe-west1/run_update/getAdService, mapping to path=/getAdService {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/finance-affiliate-app/europe-west1/run_update/getAdService, mapping to path=/getAdService"}}
[debug] [2023-04-08T06:46:17.909Z] [worker-pool] Cleaned up workers for europe-west1-run_update: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for europe-west1-run_update: 1 --> 0"}}
[debug] [2023-04-08T06:46:17.910Z] Failed to load local environment variablesFailed to load environment variables from .env. {"name":"FirebaseError","children":[{"name":"FirebaseError","children":[],"exit":1,"message":"Invalid dotenv file, error on lines: //Adservice","status":500}],"exit":2,"message":"Failed to load environment variables from .env.","status":500}
[debug] [2023-04-08T06:46:17.915Z] [worker-pool] addWorker(europe-west1-run_update) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(europe-west1-run_update)"}}
[debug] [2023-04-08T06:46:17.915Z] [worker-pool] Adding worker with key europe-west1-run_update, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key europe-west1-run_update, total=1"}}
[debug] [2023-04-08T06:46:20.269Z] [runtime-status] [4655] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.6.0","resolution":"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"[runtime-status] [4655] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.6.0\",\"resolution\":\"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-04-08T06:46:20.271Z] [runtime-status] [4655] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"[runtime-status] [4655] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-04-08T06:46:20.272Z] [runtime-status] [4655] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"[runtime-status] [4655] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-04-08T06:46:20.273Z] [runtime-status] [4655] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"[runtime-status] [4655] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-04-08T06:46:20.518Z] [runtime-status] [4655] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"[runtime-status] [4655] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-04-08T06:46:20.519Z] [runtime-status] [4655] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"[runtime-status] [4655] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-04-08T06:46:20.520Z] [runtime-status] [4655] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"[runtime-status] [4655] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-04-08T06:46:20.521Z] [runtime-status] [4655] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.6.0","resolution":"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"[runtime-status] [4655] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.6.0\",\"resolution\":\"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-04-08T06:46:20.524Z] [runtime-status] [4655] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"[runtime-status] [4655] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-04-08T06:46:20.524Z] [runtime-status] [4655] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.6.0","resolution":"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"[runtime-status] [4655] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.6.0\",\"resolution\":\"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-04-08T06:46:20.662Z] [runtime-status] [4655] Functions runtime initialized. {"cwd":"/Users/chris/Documents/WebDesign/React/2yourcredit/backend","node_version":"18.8.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"[runtime-status] [4655] Functions runtime initialized. {\"cwd\":\"/Users/chris/Documents/WebDesign/React/2yourcredit/backend\",\"node_version\":\"18.8.0\"}"}}
[debug] [2023-04-08T06:46:20.662Z] [runtime-status] [4655] Listening to port: /var/folders/7c/nz9ggkzx307bnvvqb89rdvg40000gn/T/fire_emu_87af218cc8001efa.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"[runtime-status] [4655] Listening to port: /var/folders/7c/nz9ggkzx307bnvvqb89rdvg40000gn/T/fire_emu_87af218cc8001efa.sock"}}
[debug] [2023-04-08T06:46:20.763Z] [worker-pool] submitRequest(triggerId=europe-west1-run_update) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=europe-west1-run_update)"}}
[debug] [2023-04-08T06:46:20.763Z] [worker-europe-west1-run_update-dc31ef3a-ccbf-4427-928d-a82b539e8a73]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-europe-west1-run_update-dc31ef3a-ccbf-4427-928d-a82b539e8a73]: BUSY"}}
[info] i  functions: Beginning execution of "run_update" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"Beginning execution of \"run_update\""}}
[info] >  Adservice "NO" Reached! {"user":"Adservice \"NO\" Reached!","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m Adservice \"NO\" Reached!"}}
[info] >  Successfully updated "NO" {"user":"Successfully updated \"NO\"","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m Successfully updated \"NO\""}}
[debug] [2023-04-08T06:46:20.906Z] [worker-europe-west1-run_update-dc31ef3a-ccbf-4427-928d-a82b539e8a73]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-europe-west1-run_update-dc31ef3a-ccbf-4427-928d-a82b539e8a73]: IDLE"}}
[debug] [2023-04-08T06:46:20.906Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[info] i  functions: Finished "run_update" in 138.913689ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"Finished \"run_update\" in 138.913689ms"}}
[info] >  null {"user":null,"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m null"}}
[info] >  null {"user":null,"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m null"}}
[info] >  null {"user":null,"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m null"}}
[info] >  null {"user":null,"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m null"}}
[info] >  null {"user":null,"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m null"}}
[info] >  null {"user":null,"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m null"}}
[info] >  null {"user":null,"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m null"}}
[info] >  null {"user":null,"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m null"}}
[info] >  null {"user":null,"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m null"}}
[info] >  null {"user":null,"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m null"}}
[info] >  null {"user":null,"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m null"}}
[info] >  null {"user":null,"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m null"}}
[info] >  Adservice "DK" Reached! {"user":"Adservice \"DK\" Reached!","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m Adservice \"DK\" Reached!"}}
[info] >  Error: Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client {"user":"Error: Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m Error: Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client"}}
[info] >      at new NodeError (node:internal/errors:393:5) {"user":"    at new NodeError (node:internal/errors:393:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at new NodeError (node:internal/errors:393:5)"}}
[info] >      at ServerResponse.setHeader (node:_http_outgoing:607:11) {"user":"    at ServerResponse.setHeader (node:_http_outgoing:607:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.setHeader (node:_http_outgoing:607:11)"}}
[info] >      at ServerResponse.header (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:794:10) {"user":"    at ServerResponse.header (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:794:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.header (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:794:10)"}}
[info] >      at ServerResponse.send (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:174:12) {"user":"    at ServerResponse.send (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:174:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.send (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:174:12)"}}
[info] >      at ServerResponse.json (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:278:15) {"user":"    at ServerResponse.json (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:278:15)","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.json (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:278:15)"}}
[info] >      at /Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:28:33 {"user":"    at /Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:28:33","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:28:33"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}}
[info] >      at async getData (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:18:22) {"user":"    at async getData (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:18:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async getData (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:18:22)"}}
[info] >      at async getAllData (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:60:9) { {"user":"    at async getAllData (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:60:9) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async getAllData (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:60:9) {"}}
[info] >    code: 'ERR_HTTP_HEADERS_SENT' {"user":"  code: 'ERR_HTTP_HEADERS_SENT'","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'ERR_HTTP_HEADERS_SENT'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  Successfully updated "DK" {"user":"Successfully updated \"DK\"","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m Successfully updated \"DK\""}}
[info] >  Adservice "SE" Reached! {"user":"Adservice \"SE\" Reached!","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m Adservice \"SE\" Reached!"}}
[info] >  Error: Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client {"user":"Error: Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m Error: Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client"}}
[info] >      at new NodeError (node:internal/errors:393:5) {"user":"    at new NodeError (node:internal/errors:393:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at new NodeError (node:internal/errors:393:5)"}}
[info] >      at ServerResponse.setHeader (node:_http_outgoing:607:11) {"user":"    at ServerResponse.setHeader (node:_http_outgoing:607:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.setHeader (node:_http_outgoing:607:11)"}}
[info] >      at ServerResponse.header (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:794:10) {"user":"    at ServerResponse.header (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:794:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.header (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:794:10)"}}
[info] >      at ServerResponse.send (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:174:12) {"user":"    at ServerResponse.send (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:174:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.send (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:174:12)"}}
[info] >      at ServerResponse.json (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:278:15) {"user":"    at ServerResponse.json (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:278:15)","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.json (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:278:15)"}}
[info] >      at /Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:28:33 {"user":"    at /Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:28:33","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:28:33"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}}
[info] >      at async getData (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:18:22) {"user":"    at async getData (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:18:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async getData (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:18:22)"}}
[info] >      at async getAllData (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:61:9) { {"user":"    at async getAllData (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:61:9) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async getAllData (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:61:9) {"}}
[info] >    code: 'ERR_HTTP_HEADERS_SENT' {"user":"  code: 'ERR_HTTP_HEADERS_SENT'","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'ERR_HTTP_HEADERS_SENT'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  Successfully updated "SE" {"user":"Successfully updated \"SE\"","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m Successfully updated \"SE\""}}
[debug] [2023-04-08T06:46:21.110Z] File /Users/chris/Documents/WebDesign/React/2yourcredit/backend/database/data/adService_NO.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/chris/Documents/WebDesign/React/2yourcredit/backend/database/data/adService_NO.js changed, reloading triggers"}}
[info] >  null {"user":null,"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m null"}}
[debug] [2023-04-08T06:46:21.514Z] File /Users/chris/Documents/WebDesign/React/2yourcredit/backend/database/data/adService_NO.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/chris/Documents/WebDesign/React/2yourcredit/backend/database/data/adService_NO.js changed, reloading triggers"}}
[debug] [2023-04-08T06:46:22.516Z] Validating nodejs source
[debug] [2023-04-08T06:46:24.794Z] > [functions] package.json contents: {
  "name": "finance-affiliate-api",
  "version": "1.0.0",
  "description": "Finance Affiliate API",
  "author": "cris.stephens@gmail.com",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase serve --only functions",
    "emu": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "logs": "firebase functions:log",
    "deploy": "firebase deploy --only functions"
  },
  "engines": {
    "node": "12"
  },
  "dependencies": {
    "axios": "^0.27.2",
    "express": "^4.18.1",
    "firebase-admin": "^11.0.1",
    "firebase-functions": "^4.1.0",
    "https": "^1.0.0"
  },
  "devDependencies": {
    "eslint": "^8.23.1",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^2.4.0"
  },
  "private": true,
  "main": "index.js",
  "directories": {
    "func": "func",
    "lib": "lib"
  },
  "keywords": [],
  "license": "ISC"
}
[debug] [2023-04-08T06:46:24.795Z] Building nodejs source
[debug] [2023-04-08T06:46:24.795Z] Analyzing nodejs backend spec
[debug] [2023-04-08T06:46:24.795Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-04-08T06:46:25.137Z] Serving at port 9005

[debug] [2023-04-08T06:46:25.486Z] Got response from /__/functions.yaml {"endpoints":{"run_update":{"platform":"gcfv1","availableMemoryMb":2048,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"region":["europe-west1"],"httpsTrigger":{},"entryPoint":"run_update"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-04-08T06:46:25.491Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: run_update. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: run_update."}}
[debug] [2023-04-08T06:46:25.501Z] [worker-pool] Shutting down IDLE worker (europe-west1-run_update) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (europe-west1-run_update)"}}
[debug] [2023-04-08T06:46:25.502Z] [worker-europe-west1-run_update-dc31ef3a-ccbf-4427-928d-a82b539e8a73]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-europe-west1-run_update-dc31ef3a-ccbf-4427-928d-a82b539e8a73]: FINISHING"}}
[debug] [2023-04-08T06:46:25.511Z] [worker-europe-west1-run_update-dc31ef3a-ccbf-4427-928d-a82b539e8a73]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-europe-west1-run_update-dc31ef3a-ccbf-4427-928d-a82b539e8a73]: exited"}}
[debug] [2023-04-08T06:46:25.511Z] [worker-europe-west1-run_update-dc31ef3a-ccbf-4427-928d-a82b539e8a73]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-europe-west1-run_update-dc31ef3a-ccbf-4427-928d-a82b539e8a73]: FINISHED"}}
[debug] [2023-04-08T06:53:37.551Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2023-04-08T06:53:37.554Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2023-04-08T06:53:37.555Z] Accepted request GET /finance-affiliate-app/europe-west1/run_update/getAdService --> europe-west1-run_update
[debug] [2023-04-08T06:53:37.580Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-04-08T06:53:37.580Z] [functions] Got req.url=/finance-affiliate-app/europe-west1/run_update/getAdService, mapping to path=/getAdService {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/finance-affiliate-app/europe-west1/run_update/getAdService, mapping to path=/getAdService"}}
[debug] [2023-04-08T06:53:37.581Z] [worker-pool] Cleaned up workers for europe-west1-run_update: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for europe-west1-run_update: 1 --> 0"}}
[debug] [2023-04-08T06:53:37.583Z] Failed to load local environment variablesFailed to load environment variables from .env. {"name":"FirebaseError","children":[{"name":"FirebaseError","children":[],"exit":1,"message":"Invalid dotenv file, error on lines: //Adservice","status":500}],"exit":2,"message":"Failed to load environment variables from .env.","status":500}
[debug] [2023-04-08T06:53:37.597Z] [worker-pool] addWorker(europe-west1-run_update) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(europe-west1-run_update)"}}
[debug] [2023-04-08T06:53:37.598Z] [worker-pool] Adding worker with key europe-west1-run_update, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key europe-west1-run_update, total=1"}}
[debug] [2023-04-08T06:53:40.416Z] [runtime-status] [5507] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.6.0","resolution":"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"[runtime-status] [5507] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.6.0\",\"resolution\":\"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-04-08T06:53:40.418Z] [runtime-status] [5507] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"[runtime-status] [5507] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-04-08T06:53:40.419Z] [runtime-status] [5507] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"[runtime-status] [5507] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-04-08T06:53:40.420Z] [runtime-status] [5507] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"[runtime-status] [5507] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-04-08T06:53:41.118Z] [runtime-status] [5507] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"[runtime-status] [5507] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-04-08T06:53:41.118Z] [runtime-status] [5507] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"[runtime-status] [5507] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-04-08T06:53:41.119Z] [runtime-status] [5507] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"[runtime-status] [5507] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-04-08T06:53:41.121Z] [runtime-status] [5507] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.6.0","resolution":"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"[runtime-status] [5507] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.6.0\",\"resolution\":\"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-04-08T06:53:41.125Z] [runtime-status] [5507] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"[runtime-status] [5507] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-04-08T06:53:41.125Z] [runtime-status] [5507] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.6.0","resolution":"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"[runtime-status] [5507] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.6.0\",\"resolution\":\"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-04-08T06:53:41.564Z] [runtime-status] [5507] Functions runtime initialized. {"cwd":"/Users/chris/Documents/WebDesign/React/2yourcredit/backend","node_version":"18.8.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"[runtime-status] [5507] Functions runtime initialized. {\"cwd\":\"/Users/chris/Documents/WebDesign/React/2yourcredit/backend\",\"node_version\":\"18.8.0\"}"}}
[debug] [2023-04-08T06:53:41.564Z] [runtime-status] [5507] Listening to port: /var/folders/7c/nz9ggkzx307bnvvqb89rdvg40000gn/T/fire_emu_06e6d0bbae087ae4.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"[runtime-status] [5507] Listening to port: /var/folders/7c/nz9ggkzx307bnvvqb89rdvg40000gn/T/fire_emu_06e6d0bbae087ae4.sock"}}
[debug] [2023-04-08T06:53:41.651Z] [worker-pool] submitRequest(triggerId=europe-west1-run_update) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=europe-west1-run_update)"}}
[debug] [2023-04-08T06:53:41.651Z] [worker-europe-west1-run_update-de5774e6-2d26-44d7-a348-a9389024cb48]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-europe-west1-run_update-de5774e6-2d26-44d7-a348-a9389024cb48]: BUSY"}}
[info] i  functions: Beginning execution of "run_update" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"Beginning execution of \"run_update\""}}
[info] >  Adservice "NO" Reached! {"user":"Adservice \"NO\" Reached!","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m Adservice \"NO\" Reached!"}}
[info] >  Successfully updated "NO" {"user":"Successfully updated \"NO\"","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m Successfully updated \"NO\""}}
[debug] [2023-04-08T06:53:42.743Z] [worker-europe-west1-run_update-de5774e6-2d26-44d7-a348-a9389024cb48]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-europe-west1-run_update-de5774e6-2d26-44d7-a348-a9389024cb48]: IDLE"}}
[debug] [2023-04-08T06:53:42.743Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[info] i  functions: Finished "run_update" in 1087.846296ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"Finished \"run_update\" in 1087.846296ms"}}
[info] >  null {"user":null,"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m null"}}
[info] >  null {"user":null,"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m null"}}
[info] >  null {"user":null,"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m null"}}
[info] >  null {"user":null,"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m null"}}
[info] >  null {"user":null,"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m null"}}
[info] >  null {"user":null,"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m null"}}
[info] >  null {"user":null,"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m null"}}
[info] >  null {"user":null,"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m null"}}
[info] >  null {"user":null,"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m null"}}
[info] >  null {"user":null,"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m null"}}
[info] >  null {"user":null,"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m null"}}
[info] >  null {"user":null,"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m null"}}
[debug] [2023-04-08T06:53:42.936Z] File /Users/chris/Documents/WebDesign/React/2yourcredit/backend/database/data/adService_NO.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/chris/Documents/WebDesign/React/2yourcredit/backend/database/data/adService_NO.js changed, reloading triggers"}}
[info] >  null {"user":null,"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m null"}}
[debug] [2023-04-08T06:53:43.290Z] File /Users/chris/Documents/WebDesign/React/2yourcredit/backend/database/data/adService_NO.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/chris/Documents/WebDesign/React/2yourcredit/backend/database/data/adService_NO.js changed, reloading triggers"}}
[info] >  Adservice "DK" Reached! {"user":"Adservice \"DK\" Reached!","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m Adservice \"DK\" Reached!"}}
[info] >  Error: Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client {"user":"Error: Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m Error: Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client"}}
[info] >      at new NodeError (node:internal/errors:393:5) {"user":"    at new NodeError (node:internal/errors:393:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at new NodeError (node:internal/errors:393:5)"}}
[info] >      at ServerResponse.setHeader (node:_http_outgoing:607:11) {"user":"    at ServerResponse.setHeader (node:_http_outgoing:607:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.setHeader (node:_http_outgoing:607:11)"}}
[info] >      at ServerResponse.header (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:794:10) {"user":"    at ServerResponse.header (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:794:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.header (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:794:10)"}}
[info] >      at ServerResponse.send (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:174:12) {"user":"    at ServerResponse.send (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:174:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.send (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:174:12)"}}
[info] >      at ServerResponse.json (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:278:15) {"user":"    at ServerResponse.json (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:278:15)","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.json (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:278:15)"}}
[info] >      at /Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:28:33 {"user":"    at /Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:28:33","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:28:33"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}}
[info] >      at async getData (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:18:22) {"user":"    at async getData (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:18:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async getData (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:18:22)"}}
[info] >      at async getAllData (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:60:9) { {"user":"    at async getAllData (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:60:9) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async getAllData (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:60:9) {"}}
[info] >    code: 'ERR_HTTP_HEADERS_SENT' {"user":"  code: 'ERR_HTTP_HEADERS_SENT'","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'ERR_HTTP_HEADERS_SENT'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  Successfully updated "DK" {"user":"Successfully updated \"DK\"","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m Successfully updated \"DK\""}}
[info] >  Adservice "SE" Reached! {"user":"Adservice \"SE\" Reached!","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m Adservice \"SE\" Reached!"}}
[info] >  Error: Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client {"user":"Error: Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m Error: Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client"}}
[info] >      at new NodeError (node:internal/errors:393:5) {"user":"    at new NodeError (node:internal/errors:393:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at new NodeError (node:internal/errors:393:5)"}}
[info] >      at ServerResponse.setHeader (node:_http_outgoing:607:11) {"user":"    at ServerResponse.setHeader (node:_http_outgoing:607:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.setHeader (node:_http_outgoing:607:11)"}}
[info] >      at ServerResponse.header (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:794:10) {"user":"    at ServerResponse.header (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:794:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.header (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:794:10)"}}
[info] >      at ServerResponse.send (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:174:12) {"user":"    at ServerResponse.send (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:174:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.send (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:174:12)"}}
[info] >      at ServerResponse.json (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:278:15) {"user":"    at ServerResponse.json (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:278:15)","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.json (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:278:15)"}}
[info] >      at /Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:28:33 {"user":"    at /Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:28:33","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:28:33"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}}
[info] >      at async getData (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:18:22) {"user":"    at async getData (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:18:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async getData (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:18:22)"}}
[info] >      at async getAllData (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:61:9) { {"user":"    at async getAllData (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:61:9) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async getAllData (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:61:9) {"}}
[info] >    code: 'ERR_HTTP_HEADERS_SENT' {"user":"  code: 'ERR_HTTP_HEADERS_SENT'","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'ERR_HTTP_HEADERS_SENT'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  Successfully updated "SE" {"user":"Successfully updated \"SE\"","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m Successfully updated \"SE\""}}
[debug] [2023-04-08T06:53:44.292Z] Validating nodejs source
[debug] [2023-04-08T06:53:47.198Z] > [functions] package.json contents: {
  "name": "finance-affiliate-api",
  "version": "1.0.0",
  "description": "Finance Affiliate API",
  "author": "cris.stephens@gmail.com",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase serve --only functions",
    "emu": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "logs": "firebase functions:log",
    "deploy": "firebase deploy --only functions"
  },
  "engines": {
    "node": "12"
  },
  "dependencies": {
    "axios": "^0.27.2",
    "express": "^4.18.1",
    "firebase-admin": "^11.0.1",
    "firebase-functions": "^4.1.0",
    "https": "^1.0.0"
  },
  "devDependencies": {
    "eslint": "^8.23.1",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^2.4.0"
  },
  "private": true,
  "main": "index.js",
  "directories": {
    "func": "func",
    "lib": "lib"
  },
  "keywords": [],
  "license": "ISC"
}
[debug] [2023-04-08T06:53:47.198Z] Building nodejs source
[debug] [2023-04-08T06:53:47.198Z] Analyzing nodejs backend spec
[debug] [2023-04-08T06:53:47.200Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-04-08T06:53:47.510Z] Serving at port 9005

[debug] [2023-04-08T06:53:47.876Z] Got response from /__/functions.yaml {"endpoints":{"run_update":{"platform":"gcfv1","availableMemoryMb":2048,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"region":["europe-west1"],"httpsTrigger":{},"entryPoint":"run_update"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-04-08T06:53:47.881Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: run_update. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: run_update."}}
[debug] [2023-04-08T06:53:47.892Z] [worker-pool] Shutting down IDLE worker (europe-west1-run_update) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (europe-west1-run_update)"}}
[debug] [2023-04-08T06:53:47.892Z] [worker-europe-west1-run_update-de5774e6-2d26-44d7-a348-a9389024cb48]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-europe-west1-run_update-de5774e6-2d26-44d7-a348-a9389024cb48]: FINISHING"}}
[debug] [2023-04-08T06:53:47.902Z] [worker-europe-west1-run_update-de5774e6-2d26-44d7-a348-a9389024cb48]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-europe-west1-run_update-de5774e6-2d26-44d7-a348-a9389024cb48]: exited"}}
[debug] [2023-04-08T06:53:47.903Z] [worker-europe-west1-run_update-de5774e6-2d26-44d7-a348-a9389024cb48]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-europe-west1-run_update-de5774e6-2d26-44d7-a348-a9389024cb48]: FINISHED"}}
[debug] [2023-04-08T06:55:15.124Z] File /Users/chris/Documents/WebDesign/React/2yourcredit/backend/database/data/adService_NO.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/chris/Documents/WebDesign/React/2yourcredit/backend/database/data/adService_NO.js changed, reloading triggers"}}
[debug] [2023-04-08T06:55:16.128Z] Validating nodejs source
[debug] [2023-04-08T06:55:18.761Z] > [functions] package.json contents: {
  "name": "finance-affiliate-api",
  "version": "1.0.0",
  "description": "Finance Affiliate API",
  "author": "cris.stephens@gmail.com",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase serve --only functions",
    "emu": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "logs": "firebase functions:log",
    "deploy": "firebase deploy --only functions"
  },
  "engines": {
    "node": "12"
  },
  "dependencies": {
    "axios": "^0.27.2",
    "express": "^4.18.1",
    "firebase-admin": "^11.0.1",
    "firebase-functions": "^4.1.0",
    "https": "^1.0.0"
  },
  "devDependencies": {
    "eslint": "^8.23.1",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^2.4.0"
  },
  "private": true,
  "main": "index.js",
  "directories": {
    "func": "func",
    "lib": "lib"
  },
  "keywords": [],
  "license": "ISC"
}
[debug] [2023-04-08T06:55:18.761Z] Building nodejs source
[debug] [2023-04-08T06:55:18.762Z] Analyzing nodejs backend spec
[debug] [2023-04-08T06:55:18.762Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-04-08T06:55:19.159Z] Serving at port 9005

[debug] [2023-04-08T06:55:19.636Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2023-04-08T06:55:19.637Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2023-04-08T06:55:19.637Z] Accepted request GET /finance-affiliate-app/europe-west1/run_update/getAdService --> europe-west1-run_update
[debug] [2023-04-08T06:55:19.643Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-04-08T06:55:19.643Z] [functions] Got req.url=/finance-affiliate-app/europe-west1/run_update/getAdService, mapping to path=/getAdService {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/finance-affiliate-app/europe-west1/run_update/getAdService, mapping to path=/getAdService"}}
[debug] [2023-04-08T06:55:19.643Z] [worker-pool] Cleaned up workers for europe-west1-run_update: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for europe-west1-run_update: 1 --> 0"}}
[debug] [2023-04-08T06:55:19.645Z] Failed to load local environment variablesFailed to load environment variables from .env. {"name":"FirebaseError","children":[{"name":"FirebaseError","children":[],"exit":1,"message":"Invalid dotenv file, error on lines: //Adservice","status":500}],"exit":2,"message":"Failed to load environment variables from .env.","status":500}
[debug] [2023-04-08T06:55:19.651Z] [worker-pool] addWorker(europe-west1-run_update) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(europe-west1-run_update)"}}
[debug] [2023-04-08T06:55:19.651Z] [worker-pool] Adding worker with key europe-west1-run_update, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key europe-west1-run_update, total=1"}}
[debug] [2023-04-08T06:55:19.706Z] Got response from /__/functions.yaml {"endpoints":{"run_update":{"platform":"gcfv1","availableMemoryMb":2048,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"region":["europe-west1"],"httpsTrigger":{},"entryPoint":"run_update"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-04-08T06:55:19.711Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: run_update. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: run_update."}}
[debug] [2023-04-08T06:55:19.720Z] [worker-pool] Shutting down IDLE worker (europe-west1-run_update) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (europe-west1-run_update)"}}
[debug] [2023-04-08T06:55:19.721Z] [worker-europe-west1-run_update-a304d0ed-fe72-4a27-b266-fc075a69b6ff]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-europe-west1-run_update-a304d0ed-fe72-4a27-b266-fc075a69b6ff]: FINISHING"}}
[debug] [2023-04-08T06:55:19.723Z] [worker-europe-west1-run_update-a304d0ed-fe72-4a27-b266-fc075a69b6ff]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-europe-west1-run_update-a304d0ed-fe72-4a27-b266-fc075a69b6ff]: exited"}}
[debug] [2023-04-08T06:55:19.724Z] [worker-europe-west1-run_update-a304d0ed-fe72-4a27-b266-fc075a69b6ff]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-europe-west1-run_update-a304d0ed-fe72-4a27-b266-fc075a69b6ff]: FINISHED"}}
[debug] [2023-04-08T06:55:46.337Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2023-04-08T06:55:46.337Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2023-04-08T06:55:46.338Z] Accepted request GET /finance-affiliate-app/europe-west1/run_update/getAdService --> europe-west1-run_update
[debug] [2023-04-08T06:55:46.342Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-04-08T06:55:46.343Z] [functions] Got req.url=/finance-affiliate-app/europe-west1/run_update/getAdService, mapping to path=/getAdService {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/finance-affiliate-app/europe-west1/run_update/getAdService, mapping to path=/getAdService"}}
[debug] [2023-04-08T06:55:46.343Z] [worker-pool] Cleaned up workers for europe-west1-run_update: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for europe-west1-run_update: 1 --> 0"}}
[debug] [2023-04-08T06:55:46.344Z] Failed to load local environment variablesFailed to load environment variables from .env. {"name":"FirebaseError","children":[{"name":"FirebaseError","children":[],"exit":1,"message":"Invalid dotenv file, error on lines: //Adservice","status":500}],"exit":2,"message":"Failed to load environment variables from .env.","status":500}
[debug] [2023-04-08T06:55:46.349Z] [worker-pool] addWorker(europe-west1-run_update) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(europe-west1-run_update)"}}
[debug] [2023-04-08T06:55:46.349Z] [worker-pool] Adding worker with key europe-west1-run_update, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key europe-west1-run_update, total=1"}}
[debug] [2023-04-08T06:55:49.392Z] [runtime-status] [5725] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.6.0","resolution":"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"[runtime-status] [5725] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.6.0\",\"resolution\":\"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-04-08T06:55:49.394Z] [runtime-status] [5725] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"[runtime-status] [5725] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-04-08T06:55:49.394Z] [runtime-status] [5725] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"[runtime-status] [5725] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-04-08T06:55:49.396Z] [runtime-status] [5725] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"[runtime-status] [5725] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-04-08T06:55:49.652Z] [runtime-status] [5725] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"[runtime-status] [5725] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-04-08T06:55:49.653Z] [runtime-status] [5725] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"[runtime-status] [5725] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-04-08T06:55:49.654Z] [runtime-status] [5725] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"[runtime-status] [5725] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-04-08T06:55:49.655Z] [runtime-status] [5725] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.6.0","resolution":"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"[runtime-status] [5725] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.6.0\",\"resolution\":\"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-04-08T06:55:49.658Z] [runtime-status] [5725] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"[runtime-status] [5725] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-04-08T06:55:49.658Z] [runtime-status] [5725] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.6.0","resolution":"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"[runtime-status] [5725] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.6.0\",\"resolution\":\"/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] FirebaseError: Failed to load function.
    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsRuntimeWorker.js:152:24)
    at listOnTimeout (node:internal/timers:564:17)
    at process.processTimers (node:internal/timers:507:7) {"metadata":{"emulator":{"name":"functions"},"message":{"name":"FirebaseError","children":[],"exit":1,"message":"Failed to load function.","status":500}}}
[debug] [2023-04-08T06:55:49.687Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2023-04-08T06:55:49.803Z] [runtime-status] [5725] Functions runtime initialized. {"cwd":"/Users/chris/Documents/WebDesign/React/2yourcredit/backend","node_version":"18.8.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"[runtime-status] [5725] Functions runtime initialized. {\"cwd\":\"/Users/chris/Documents/WebDesign/React/2yourcredit/backend\",\"node_version\":\"18.8.0\"}"}}
[debug] [2023-04-08T06:55:49.803Z] [runtime-status] [5725] Listening to port: /var/folders/7c/nz9ggkzx307bnvvqb89rdvg40000gn/T/fire_emu_a1b1eb026b9b26e3.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"[runtime-status] [5725] Listening to port: /var/folders/7c/nz9ggkzx307bnvvqb89rdvg40000gn/T/fire_emu_a1b1eb026b9b26e3.sock"}}
[debug] [2023-04-08T06:55:49.905Z] [worker-pool] submitRequest(triggerId=europe-west1-run_update) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=europe-west1-run_update)"}}
[debug] [2023-04-08T06:55:49.905Z] [worker-europe-west1-run_update-976a1cf6-4f89-4354-89ed-5a547f2bc0f8]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-europe-west1-run_update-976a1cf6-4f89-4354-89ed-5a547f2bc0f8]: BUSY"}}
[info] i  functions: Beginning execution of "run_update" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"Beginning execution of \"run_update\""}}
[info] >  Adservice "NO" Reached! {"user":"Adservice \"NO\" Reached!","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m Adservice \"NO\" Reached!"}}
[info] >  Successfully updated "NO" {"user":"Successfully updated \"NO\"","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m Successfully updated \"NO\""}}
[debug] [2023-04-08T06:55:50.088Z] [worker-europe-west1-run_update-976a1cf6-4f89-4354-89ed-5a547f2bc0f8]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-europe-west1-run_update-976a1cf6-4f89-4354-89ed-5a547f2bc0f8]: IDLE"}}
[debug] [2023-04-08T06:55:50.088Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[info] i  functions: Finished "run_update" in 180.158001ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"Finished \"run_update\" in 180.158001ms"}}
[info] >  null {"user":null,"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m null"}}
[info] >  null {"user":null,"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m null"}}
[info] >  null {"user":null,"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m null"}}
[info] >  null {"user":null,"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m null"}}
[info] >  null {"user":null,"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m null"}}
[info] >  null {"user":null,"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m null"}}
[info] >  null {"user":null,"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m null"}}
[info] >  null {"user":null,"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m null"}}
[info] >  null {"user":null,"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m null"}}
[info] >  null {"user":null,"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m null"}}
[info] >  null {"user":null,"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m null"}}
[info] >  null {"user":null,"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m null"}}
[info] >  Adservice "DK" Reached! {"user":"Adservice \"DK\" Reached!","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m Adservice \"DK\" Reached!"}}
[info] >  Error: Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client {"user":"Error: Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m Error: Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client"}}
[info] >      at new NodeError (node:internal/errors:393:5) {"user":"    at new NodeError (node:internal/errors:393:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at new NodeError (node:internal/errors:393:5)"}}
[info] >      at ServerResponse.setHeader (node:_http_outgoing:607:11) {"user":"    at ServerResponse.setHeader (node:_http_outgoing:607:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.setHeader (node:_http_outgoing:607:11)"}}
[info] >      at ServerResponse.header (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:794:10) {"user":"    at ServerResponse.header (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:794:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.header (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:794:10)"}}
[info] >      at ServerResponse.send (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:174:12) {"user":"    at ServerResponse.send (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:174:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.send (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:174:12)"}}
[info] >      at ServerResponse.json (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:278:15) {"user":"    at ServerResponse.json (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:278:15)","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.json (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:278:15)"}}
[info] >      at /Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:28:33 {"user":"    at /Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:28:33","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:28:33"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}}
[info] >      at async getData (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:18:22) {"user":"    at async getData (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:18:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async getData (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:18:22)"}}
[info] >      at async getAllData (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:60:9) { {"user":"    at async getAllData (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:60:9) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async getAllData (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:60:9) {"}}
[info] >    code: 'ERR_HTTP_HEADERS_SENT' {"user":"  code: 'ERR_HTTP_HEADERS_SENT'","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'ERR_HTTP_HEADERS_SENT'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  Successfully updated "DK" {"user":"Successfully updated \"DK\"","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m Successfully updated \"DK\""}}
[debug] [2023-04-08T06:55:50.194Z] File /Users/chris/Documents/WebDesign/React/2yourcredit/backend/database/data/adService_NO.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/chris/Documents/WebDesign/React/2yourcredit/backend/database/data/adService_NO.js changed, reloading triggers"}}
[info] >  null {"user":null,"metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m null"}}
[debug] [2023-04-08T06:55:50.596Z] File /Users/chris/Documents/WebDesign/React/2yourcredit/backend/database/data/adService_NO.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/chris/Documents/WebDesign/React/2yourcredit/backend/database/data/adService_NO.js changed, reloading triggers"}}
[info] >  Adservice "SE" Reached! {"user":"Adservice \"SE\" Reached!","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m Adservice \"SE\" Reached!"}}
[info] >  Error: Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client {"user":"Error: Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m Error: Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client"}}
[info] >      at new NodeError (node:internal/errors:393:5) {"user":"    at new NodeError (node:internal/errors:393:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at new NodeError (node:internal/errors:393:5)"}}
[info] >      at ServerResponse.setHeader (node:_http_outgoing:607:11) {"user":"    at ServerResponse.setHeader (node:_http_outgoing:607:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.setHeader (node:_http_outgoing:607:11)"}}
[info] >      at ServerResponse.header (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:794:10) {"user":"    at ServerResponse.header (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:794:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.header (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:794:10)"}}
[info] >      at ServerResponse.send (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:174:12) {"user":"    at ServerResponse.send (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:174:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.send (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:174:12)"}}
[info] >      at ServerResponse.json (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:278:15) {"user":"    at ServerResponse.json (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:278:15)","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.json (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/node_modules/express/lib/response.js:278:15)"}}
[info] >      at /Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:28:33 {"user":"    at /Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:28:33","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:28:33"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}}
[info] >      at async getData (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:18:22) {"user":"    at async getData (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:18:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async getData (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:18:22)"}}
[info] >      at async getAllData (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:61:9) { {"user":"    at async getAllData (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:61:9) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async getAllData (/Users/chris/Documents/WebDesign/React/2yourcredit/backend/index.js:61:9) {"}}
[info] >    code: 'ERR_HTTP_HEADERS_SENT' {"user":"  code: 'ERR_HTTP_HEADERS_SENT'","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'ERR_HTTP_HEADERS_SENT'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  Successfully updated "SE" {"user":"Successfully updated \"SE\"","metadata":{"emulator":{"name":"functions"},"function":{"name":"europe-west1-run_update"},"extension":{},"message":"\u001b[90m> \u001b[39m Successfully updated \"SE\""}}
[debug] [2023-04-08T06:55:51.597Z] Validating nodejs source
[debug] [2023-04-08T06:55:53.924Z] > [functions] package.json contents: {
  "name": "finance-affiliate-api",
  "version": "1.0.0",
  "description": "Finance Affiliate API",
  "author": "cris.stephens@gmail.com",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase serve --only functions",
    "emu": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "logs": "firebase functions:log",
    "deploy": "firebase deploy --only functions"
  },
  "engines": {
    "node": "12"
  },
  "dependencies": {
    "axios": "^0.27.2",
    "express": "^4.18.1",
    "firebase-admin": "^11.0.1",
    "firebase-functions": "^4.1.0",
    "https": "^1.0.0"
  },
  "devDependencies": {
    "eslint": "^8.23.1",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^2.4.0"
  },
  "private": true,
  "main": "index.js",
  "directories": {
    "func": "func",
    "lib": "lib"
  },
  "keywords": [],
  "license": "ISC"
}
[debug] [2023-04-08T06:55:53.925Z] Building nodejs source
[debug] [2023-04-08T06:55:53.925Z] Analyzing nodejs backend spec
[debug] [2023-04-08T06:55:53.925Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-04-08T06:55:54.187Z] Serving at port 9005

[debug] [2023-04-08T06:55:55.501Z] Got response from /__/functions.yaml {"endpoints":{"run_update":{"platform":"gcfv1","availableMemoryMb":2048,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"region":["europe-west1"],"httpsTrigger":{},"entryPoint":"run_update"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-04-08T06:55:55.505Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: run_update. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: run_update."}}
[debug] [2023-04-08T06:55:55.515Z] [worker-pool] Shutting down IDLE worker (europe-west1-run_update) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (europe-west1-run_update)"}}
[debug] [2023-04-08T06:55:55.515Z] [worker-europe-west1-run_update-976a1cf6-4f89-4354-89ed-5a547f2bc0f8]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-europe-west1-run_update-976a1cf6-4f89-4354-89ed-5a547f2bc0f8]: FINISHING"}}
[debug] [2023-04-08T06:55:55.525Z] [worker-europe-west1-run_update-976a1cf6-4f89-4354-89ed-5a547f2bc0f8]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-europe-west1-run_update-976a1cf6-4f89-4354-89ed-5a547f2bc0f8]: exited"}}
[debug] [2023-04-08T06:55:55.525Z] [worker-europe-west1-run_update-976a1cf6-4f89-4354-89ed-5a547f2bc0f8]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-europe-west1-run_update-976a1cf6-4f89-4354-89ed-5a547f2bc0f8]: FINISHED"}}
